:root {
    --bg: #0b0f14;
    --panel: #111822;
    --ink: #eef4ff;
    --muted: #a9bad1;
    --ring: #4da3ff;
    --common: #2EFF46;
    --uncommon: #EEFF2E;
    --rare: #F52EFF;
    --mythic: #1CDEFF;
    --cardW: 18rem; /* responsive width */
    --ratio: 5/7; /* 2.5x3.5 inch == 5:7 */
}

* {
    box-sizing: border-box
}

html, body {
    margin: 0;
    /*background: var(--bg);*/
    color: var(--ink);
    font: 16px/1.55 'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif
}

.topbar {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: .8rem 1rem;
    background: linear-gradient(180deg,#0b0f1490,#0b0f1400);
    border-bottom: 1px solid #16202b;
    backdrop-filter: blur(8px);
}

    .topbar h1 {
        margin: 0;
        font: 600 1.25rem/1 'Bebas Neue', sans-serif;
        letter-spacing: .04em
    }

.controls {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
    margin-left: auto
}

    .controls input, .controls select {
        background: #0f1620;
        color: var(--ink);
        border: 1px solid #1c2a3a;
        border-radius: .65rem;
        padding: .55rem .75rem;
        outline: none;
    }

        .controls input:focus, .controls select:focus {
            border-color: var(--ring);
            box-shadow: 0 0 0 3px #4da3ff33
        }

main {
    max-width: 1300px;
    margin: 1rem auto;
    padding: 0 1rem
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(var(--cardW),1fr));
    gap: 1rem
}

.empty {
    color: var(--muted);
    text-align: center;
    margin: 3rem 0
}

.footer {
    max-width: 1300px;
    margin: 2rem auto;
    padding: 0 1rem;
    color: var(--muted);
    font-size: .9rem
}

/* ===== Card (flip) ===== */
.card-wrap {
    perspective: 1200px;
}

.card {
    width: var(--cardW);
    aspect-ratio: var(--ratio);
    position: relative;
    transform-style: preserve-3d;
    transition: transform .6s cubic-bezier(.2,.7,.2,1);
    border-radius: 1rem;
}

    .card.is-flipped {
        transform: rotateY(180deg);
    }

.face {
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    overflow: clip;
    backface-visibility: hidden;
    display: block;
}

    .face img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block
    }

    .face.back {
        transform: rotateY(180deg);
    }

/* ===== Clockwise rarity glow ===== */
/* ==== Animated clockwise rarity border glow ==== */
.glow {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    overflow: hidden;
}

/* Thickness of the ring */
.glow {
    --ring: 3px;
}

    /* The moving arc */
    .glow::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        /* Only draw along the border area */
        padding: var(--ring);
        /* The arc: widen 90–120deg so you can see it clearly */
        background: conic-gradient(from var(--angle, 0deg), var(--glow) 0deg, /* colour start */
        var(--glow) 110deg, /* arc length */
        transparent 120deg, /* soft trailing edge */
        transparent 360deg);
        /* spin clockwise */
        animation: ring-spin 10s linear infinite;
        /* HOLLOW THE CENTER — works in Safari/Chrome */
        -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        /* HOLLOW THE CENTER — works in Firefox */
        mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        mask-composite: exclude;
        /* glow halo */
        filter: drop-shadow(0 0 8px var(--glow)) drop-shadow(0 0 14px color-mix(in oklab, var(--glow), transparent 60%));
    }

/* Slow clockwise rotation */
@keyframes ring-spin {
    to {
        --angle: 360deg;
    }
}

/* Rarity colours */
.rarity-common {
    --glow: #9aa4b2;
}

.rarity-uncommon {
    --glow: #54c17a;
}

.rarity-rare {
    --glow: #6e8cff;
}

.rarity-mythic {
    --glow: #ffb84d;
}

@keyframes pulse {
    0% {
        opacity: 0.8;
        filter: blur(0.5px) drop-shadow(0 0 6px var(--glow));
    }

    100% {
        opacity: 1;
        filter: blur(1px) drop-shadow(0 0 12px var(--glow));
    }
}


/* slow rotation */
@keyframes spin {
    to {
        --angle: 360deg;
    }
}


/* ===== Hover reactive tilt ===== */
.card-wrap {
    --rx: 0deg;
    --ry: 0deg;
    --tz: 0px;
    transform: translateZ(0);
}

    .card-wrap:hover .card {
        transform: rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--tz));
    }

    .card-wrap:hover .glow::before {
        filter: brightness(1.15);
    }

/* Tile text & controls */
.tile {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .5rem;
}

.title {
    margin-top: .2rem;
    font: 700 1rem/1.1 'Bebas Neue', sans-serif;
    letter-spacing: .03em;
    text-align: center;
}

.meta {
    font-size: .8rem;
    color: var(--muted);
    text-align: center;
}

.card-controls {
    position: absolute;
    top: .5rem;
    right: .5rem;
    display: flex;
    gap: .25rem;
    z-index: 2;
}

.icon-btn {
    background: #0f1620cc;
    color: #fff;
    border: 1px solid #1c2a3a;
    border-radius: .5rem;
    padding: .25rem .45rem;
    font-size: .8rem;
    cursor: pointer;
}

    .icon-btn[aria-pressed="true"] {
        outline: 2px solid var(--ring);
    }

/* Compare dock & modal */
.compare-dock {
    position: sticky;
    bottom: 0;
    background: linear-gradient(180deg,transparent, #0b0f14cc 30%, #0b0f14f0 100%);
    border-top: 1px solid #16202b;
    padding: .5rem 1rem;
}

.dock-inner {
    max-width: 1300px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: .75rem
}

.sel-list {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap
}

.sel-chip {
    background: #0f1620;
    border: 1px solid #1c2a3a;
    border-radius: .5rem;
    padding: .25rem .5rem;
    font-size: .8rem;
}

.btn {
    background: #1a2433;
    color: #fff;
    border: 1px solid #2a3a4e;
    border-radius: .6rem;
    padding: .5rem .75rem;
    cursor: pointer
}

    .btn:disabled {
        opacity: .5;
        cursor: not-allowed
    }

.btn-ghost {
    background: transparent
}

.modal {
    border: none;
    border-radius: 1rem;
    padding: 0;
    max-width: min(95vw, 1200px);
    width: 100%
}

    .modal::backdrop {
        background: #0008
    }

.modal-body {
    background: #0e151f;
    border: 1px solid #1b2836;
    border-radius: 1rem;
    padding: 1rem
}

    .modal-body header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: .5rem
    }

.compare-area {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem
}

.compare-card {
    display: flex;
    flex-direction: column;
    gap: .5rem;
    align-items: center;
}

.small {
    width: min(16rem, 40vw);
    aspect-ratio: var(--ratio);
    border-radius: .8rem;
    overflow: hidden;
    position: relative;
}

    .small img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block
    }

.meta-table {
    width: 100%;
    border-collapse: collapse;
    font-size: .9rem
}

    .meta-table td {
        padding: .25rem .4rem;
        border-bottom: 1px solid #1b2836;
        color: #cfe2ff
    }

        .meta-table td:nth-child(1) {
            color: #9fb2cb;
            width: 30%
        }

/* BACKGROUND STUFF*/
/* ==== Subtle animated background ==== */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -2;
    background: radial-gradient(circle at 20% 30%, #1e293b 0%, #0b0f14 80%);
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image: repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 20px), repeating-linear-gradient(90deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 20px), radial-gradient(circle at 50% 120%, rgba(77,163,255,0.05), transparent 70%);
    background-size: 200% 200%;
    animation: gridmove 30s linear infinite;
}

@keyframes gridmove {
    to {
        background-position: 0 200%, 200% 0, 0 0;
    }
}

body {
    background-attachment: fixed;
    background-size: cover;
}

