:root {
    --bg: #0b0f14;
    --panel: #111822;
    --ink: #eef4ff;
    --muted: #a9bad1;
    --ring: #4da3ff;
    --common: #2EFF46;
    --uncommon: #EEFF2E;
    --rare: #F52EFF;
    --mythic: #1CDEFF;
    --cardW: 18rem; /* responsive width */
    --ratio: 5/7; /* 2.5x3.5 inch == 5:7 */
}

* {
    box-sizing: border-box
}

html, body {
    margin: 0;
    /*background: var(--bg);*/
    color: var(--ink);
    font: 16px/1.55 'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif
}

.topbar {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: .8rem 1rem;
    background: linear-gradient(180deg,#0b0f1490,#0b0f1400);
    border-bottom: 1px solid #16202b;
    backdrop-filter: blur(8px);
}

    .topbar h1 {
        margin: 0;
        font: 600 1.25rem/1 'Bebas Neue', sans-serif;
        letter-spacing: .04em
    }

.controls {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
    margin-left: auto
}

    .controls input, .controls select {
        background: #0f1620;
        color: var(--ink);
        border: 1px solid #1c2a3a;
        border-radius: .65rem;
        padding: .55rem .75rem;
        outline: none;
    }

        .controls input:focus, .controls select:focus {
            border-color: var(--ring);
            box-shadow: 0 0 0 3px #4da3ff33
        }

main {
    max-width: 1300px;
    margin: 1rem auto;
    padding: 0 1rem
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(var(--cardW),1fr));
    gap: 1rem
}

.empty {
    color: var(--muted);
    text-align: center;
    margin: 3rem 0
}

.footer {
    max-width: 1300px;
    margin: 2rem auto;
    padding: 0 1rem;
    color: var(--muted);
    font-size: .9rem
}

/* ===== Card (flip) ===== */
.card-wrap {
    perspective: 1200px;
}

.card {
    width: var(--cardW);
    aspect-ratio: var(--ratio);
    position: relative;
    transform-style: preserve-3d;
    transition: transform .6s cubic-bezier(.2,.7,.2,1);
    border-radius: 1rem;
}

    .card.is-flipped {
        transform: rotateY(180deg);
    }

.face {
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    overflow: clip;
    backface-visibility: hidden;
    display: block;
}

    .face img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block
    }

    .face.back {
        transform: rotateY(180deg);
    }

/* ===== Clockwise rarity glow ===== */
/* ==== Animated clockwise rarity border glow ==== */
.glow {
    position: absolute;
    inset: -3px;
    border-radius: 1rem;
    pointer-events: none;
    overflow: hidden;
}

    .glow::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 3px;
        /* Animated ring using a slowly rotating conic gradient */
        background: conic-gradient( from var(--angle, 0deg), var(--glow) 0deg, transparent 60deg, transparent 360deg );
        /* spin once every 12 seconds clockwise */
        animation: spin 12s linear infinite;
        /* hollow center (so it�s just an outer ring) */
        -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        /* soft luminous aura */
        filter: blur(0.5px) drop-shadow(0 0 8px var(--glow));
        opacity: 0.9;
        animation: spin 12s linear infinite, pulse 3s ease-in-out infinite alternate;
    }

/* rarities define glow colour */
.rarity-common {
    --glow: var(--common);
}

.rarity-uncommon {
    --glow: var(--uncommon);
}

.rarity-rare {
    --glow: var(--rare);
}

.rarity-mythic {
    --glow: var(--mythic);
}

/* slow rotation */
@keyframes spin {
    to {
        --angle: 360deg;
    }
}

@keyframes pulse {
    0% {
        opacity: 0.8;
        filter: blur(0.5px) drop-shadow(0 0 6px var(--glow));
    }

    100% {
        opacity: 1;
        filter: blur(1px) drop-shadow(0 0 12px var(--glow));
    }
}



/* ===== Hover reactive tilt ===== */
.card-wrap {
    --rx: 0deg;
    --ry: 0deg;
    --tz: 0px;
    transform: translateZ(0);
}

    .card-wrap:hover .card {
        transform: rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--tz));
    }

    .card-wrap:hover .glow::before {
        filter: brightness(1.15);
    }

/* Tile text & controls */
.tile {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .5rem;
}

.title {
    margin-top: .2rem;
    font: 700 1rem/1.1 'Bebas Neue', sans-serif;
    letter-spacing: .03em;
    text-align: center;
}

.meta {
    font-size: .8rem;
    color: var(--muted);
    text-align: center;
}

.card-controls {
    position: absolute;
    top: .5rem;
    right: .5rem;
    display: flex;
    gap: .25rem;
    z-index: 2;
}

.icon-btn {
    background: #0f1620cc;
    color: #fff;
    border: 1px solid #1c2a3a;
    border-radius: .5rem;
    padding: .25rem .45rem;
    font-size: .8rem;
    cursor: pointer;
}

    .icon-btn[aria-pressed="true"] {
        outline: 2px solid var(--ring);
    }

/* Compare dock & modal */
.compare-dock {
    position: sticky;
    bottom: 0;
    background: linear-gradient(180deg,transparent, #0b0f14cc 30%, #0b0f14f0 100%);
    border-top: 1px solid #16202b;
    padding: .5rem 1rem;
}

.dock-inner {
    max-width: 1300px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    gap: .75rem
}

.sel-list {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap
}

.sel-chip {
    background: #0f1620;
    border: 1px solid #1c2a3a;
    border-radius: .5rem;
    padding: .25rem .5rem;
    font-size: .8rem;
}

.btn {
    background: #1a2433;
    color: #fff;
    border: 1px solid #2a3a4e;
    border-radius: .6rem;
    padding: .5rem .75rem;
    cursor: pointer
}

    .btn:disabled {
        opacity: .5;
        cursor: not-allowed
    }

.btn-ghost {
    background: transparent
}

.modal {
    border: none;
    border-radius: 1rem;
    padding: 0;
    max-width: min(95vw, 1200px);
    width: 100%
}

    .modal::backdrop {
        background: #0008
    }

.modal-body {
    background: #0e151f;
    border: 1px solid #1b2836;
    border-radius: 1rem;
    padding: 1rem
}

    .modal-body header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: .5rem
    }

.compare-area {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem
}

.compare-card {
    display: flex;
    flex-direction: column;
    gap: .5rem;
    align-items: center;
}

.small {
    width: min(16rem, 40vw);
    aspect-ratio: var(--ratio);
    border-radius: .8rem;
    overflow: hidden;
    position: relative;
}

    .small img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block
    }

.meta-table {
    width: 100%;
    border-collapse: collapse;
    font-size: .9rem
}

    .meta-table td {
        padding: .25rem .4rem;
        border-bottom: 1px solid #1b2836;
        color: #cfe2ff
    }

        .meta-table td:nth-child(1) {
            color: #9fb2cb;
            width: 30%
        }

/* BACKGROUND STUFF*/
/* ==== Subtle animated background ==== */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -2;
    background: radial-gradient(circle at 20% 30%, #1e293b 0%, #0b0f14 80%);
}

body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    background-image: repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 20px), repeating-linear-gradient(90deg, rgba(255,255,255,0.02) 0 1px, transparent 1px 20px), radial-gradient(circle at 50% 120%, rgba(77,163,255,0.05), transparent 70%);
    background-size: 200% 200%;
    animation: gridmove 30s linear infinite;
}

@keyframes gridmove {
    to {
        background-position: 0 200%, 200% 0, 0 0;
    }
}

body {
    background-attachment: fixed;
    background-size: cover;
}

/* NAV */
.nav{display:flex; gap:1rem; align-items:center}
.brand{font:600 1.1rem/1 'Bebas Neue',sans-serif; letter-spacing:.04em; color:#fff; text-decoration:none}
.nav-link{color:#a9bad1; text-decoration:none}
.nav-link:hover,.nav-link.active{color:#fff}

/* HOME hero (uses the animated bg already) */
.home .hero{position:relative; padding:6rem 1rem 3rem}
.hero-inner{max-width:1200px; margin:0 auto}
.hero-title{font:700 3rem/1.1 'Bebas Neue',sans-serif; letter-spacing:.02em; margin:0}
.hero-title span{color:#4da3ff}
.hero-sub{color:#cfe2ffcc; margin:.75rem 0 1.25rem}
.hero-ctas{display:flex; gap:.75rem}
.btn{background:#1a2433; color:#fff; border:1px solid #2a3a4e; border-radius:.6rem; padding:.6rem .9rem; text-decoration:none}
.btn-lg{padding:.8rem 1.1rem; font-weight:600}
.btn-ghost{background:transparent}

/* Stats strip */
.stats{max-width:1200px; margin:1.5rem auto; padding:0 1rem; display:flex; gap:1rem; flex-wrap:wrap}
.stat{background:#0f1620; border:1px solid #1b2836; border-radius:.8rem; padding:.6rem .8rem; display:flex; align-items:center; gap:.5rem}
.stat-num{font:700 1.2rem/1 'Bebas Neue',sans-serif}
.dot{width:.75rem; height:.75rem; border-radius:50%}
.dot-common{background:var(--common)}
.dot-uncommon{background:var(--uncommon)}
.dot-rare{background:var(--rare)}
.dot-mythic{background:var(--mythic)}

/* Latest grid */
.section-head h2{font:700 1.5rem/1 'Bebas Neue',sans-serif; margin:.5rem 0}
.link{color:#9fb2ff; text-decoration:none}
.link:hover{text-decoration:underline}

/* How-to */
.how{max-width:900px; margin:2rem auto; padding:0 1rem; color:#cfe2ff}
.how ol{margin:.25rem 0 0 1.25rem}

/* Carousel */
/* === Card carousel === */
.carousel { max-width: 1200px; margin: 1.5rem auto 2.5rem; padding: 0 1rem; }
.carousel-viewport {
  overflow: hidden;
  position: relative;
  border-radius: 1rem;
  border: 1px solid #1b2836;
  background: #0c1118cc;
}
.carousel-track {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .75rem;
  will-change: transform;
  animation: scroll var(--duration, 60s) linear infinite;
  /* set by JS: --travel (px), --duration (s) */
}
.carousel:hover .carousel-track { animation-play-state: paused; } /* pause on hover */

@keyframes scroll {
  to { transform: translateX(calc(-1 * var(--travel, 0px))); }
}

/* tiles */
.carousel-tile {
  flex: 0 0 auto;
  width: clamp(8rem, 12vw, 11rem);
  aspect-ratio: 5 / 7;
  border-radius: .75rem;
  overflow: hidden;
  border: 1px solid #1b2836;
  position: relative;
}
.carousel-tile img { width: 100%; height: 100%; object-fit: cover; display: block; }

/* faint rarity inset glow */
.carousel-tile .ring { position:absolute; inset:-2px; border-radius:inherit; pointer-events:none; }
.rarity-common  .ring { box-shadow: inset 0 0 18px #9aa4b244; }
.rarity-uncommon.ring, .rarity-uncommon .ring { box-shadow: inset 0 0 18px #54c17a44; }
.rarity-rare    .ring { box-shadow: inset 0 0 18px #6e8cff44; }
.rarity-mythic  .ring { box-shadow: inset 0 0 18px #ffb84d44; }

/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .carousel-track { animation: none; }
}

/* =======================
   MKS TCG – RULES PAGE
   ======================= */

.rules-page .rules-main {
    max-width: 1100px;
    margin: 1rem auto 2rem;
    padding: 0 1rem 2rem;
}

/* Hero */
.rules-hero {
    margin: 0 0 1.25rem;
    padding: 1.75rem 1.25rem 1.5rem;
    border-radius: 1rem;
    border: 1px solid #1b2836;
    background: radial-gradient(circle at 0 0, #1f2937 0, #0b0f14 60%);
}

    .rules-hero h1 {
        margin: 0 0 .4rem;
        font-family: 'Bebas Neue', sans-serif;
        letter-spacing: .04em;
        font-size: 2.4rem;
    }

    .rules-hero p {
        margin: 0 0 1rem;
    }

.rules-hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: .75rem;
    margin-bottom: 1rem;
}

/* chips */
.rules-nav-chips {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
}

    .rules-nav-chips a {
        font-size: .85rem;
        padding: .3rem .6rem;
        border-radius: 999px;
        border: 1px solid #1b2836;
        background: #0f1620;
        color: #cfd8ea;
        text-decoration: none;
    }

        .rules-nav-chips a:hover {
            background: #1b2836;
        }

/* sections */
.rules-section {
    border-radius: 1rem;
    border: 1px solid #1b2836;
    padding: 1.1rem 1.25rem;
    margin-bottom: 1rem;
    background: #0e151f;
}

    .rules-section h2 {
        margin-top: 0;
        font-family: 'Bebas Neue', sans-serif;
        letter-spacing: .04em;
        font-size: 1.6rem;
    }

    .rules-section h3 {
        margin-bottom: .35rem;
    }

.rules-steps {
    padding-left: 1.3rem;
}

.rules-note {
    margin-top: .5rem;
    font-size: .9rem;
    color: #9fb2cb;
}

/* two-column rows that collapse nicely */
.rules-row {
    display: grid;
    grid-template-columns: minmax(0, 1.5fr) minmax(220px, 260px);
    gap: 1rem;
    margin-top: .75rem;
}

.rules-col {
    min-width: 0;
}

.rules-example h4 {
    margin: 0 0 .25rem;
    font-size: .95rem;
    color: #cfe2ff;
}

@media (max-width: 800px) {
    .rules-row {
        grid-template-columns: 1fr;
    }
}

/* example card */
.example-card-slot {
    background: #0f1620;
    border-radius: .75rem;
    border: 1px solid #1b2836;
    padding: .6rem .5rem .7rem;
    display: flex;
    justify-content: center;
}

.example-card-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: .4rem;
}

.example-card-frame {
    width: clamp(160px, 22vw, 220px); /* same size as catalogue cards */
    aspect-ratio: 2.5 / 3.5;
    border-radius: 1rem;
    overflow: hidden;
    border: 1px solid #1b2836;
    box-shadow: 0 6px 18px rgba(0,0,0,.4);
}

    .example-card-frame img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }


.example-card-name {
    font-family: 'Bebas Neue', sans-serif;
    letter-spacing: .03em;
    font-size: 1.05rem;
    margin-top: .3rem;
    color: #e6f0ff;
}


/* FAQ details */
.rules-section details {
    background: #0f1620;
    border-radius: .6rem;
    border: 1px solid #1b2836;
    padding: .45rem .6rem;
    margin-bottom: .4rem;
}

    .rules-section details summary {
        cursor: pointer;
    }

/* tools */
.rules-tools {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: .5rem;
    margin-top: .5rem;
}

.tool-badge {
    min-width: 2.2rem;
    text-align: center;
    padding: .25rem .35rem;
    border-radius: .4rem;
    border: 1px solid #1b2836;
    background: #0f1620;
}
